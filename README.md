# Mobx.bundle
Boilerplate для проектов с использованием React+Mobx+Webpack 2

Требования к проекту:

1. Загрузка скриптов по требованию
2. Работа с системой Логгирования
3. Использование Jest для тестирования
4. Использование DI, IoC
5. Реализовать механизм подключения модульного создания actions/reducers и их автоматического подключения к store
# React and Redux, Webpack 2 boilerplate


## Setup

Tested with node 6.x and 7.x

```
$ npm install
```

## Running in dev mode

```
$ npm start
```

## ESlint

eslint от [eslint-config-airbnb](https://www.npmjs.com/package/eslint-config-airbnb).  
Документация по [eslint от airbnb](https://github.com/leonidlebedev/javascript-airbnb).  

```
$ npm run lint
```

### Настройки для webstorm:

Включить eslint

* Перейти в WebStorm > Preferences > Languages and Frameworks > JavaScript > Code Quality Tools > ESLint  
* Включить eslint (поставить галку)
* в пути к eslint прописать `~/путь_к_проекту/mobx.bundle/node_modules/eslint`

Далее 
* Перейти в WebStorm > Preferences >Editor > Code Style > JavaScript 
* Кликнуть на  Set from в правом верхнем углу, затем Predefined Style > JavaScript Standard Style
* Убедиться что стоит 2 пробела на таб

Далее 

* Перейти в WebStorm > Keymap  
* Найти Fix ESLint Problems 
* Поставить незанятую комбинацию (например ⌥ + s)

 

## Build (production)

Build will be placed in the `build` folder.

```
$ npm run build
```

Сайт поделен на два приложения, index и signin, index - основное приложение, работа внутри личного кабиента, signin - отвечает за авторизацию, регистрацию и раздел "забыли пароль"
Чтобы сайт корректно работал с двумя приложениями необходимо корректно настроить nginx, пример конфигурации можно посмотреть в файле nginx.conf

If your app is not running on the server root you should change `publicPath` at two places.

In `webpack.signinModules.js` (ATM line 147):

```
output: {
  path: buildPath,
  publicPath: '/your-app/',
  filename: 'app-[hash].js',
},
```

and in `source/js/routes` (ATM line 9):

```
const publicPath = '/your-app/';
```

Don't forget the trailing slash (`/`). In development visit `http://localhost:3000/your-app/`.

## Running in preview production mode

This command will start webpack dev server, but with `NODE_ENV` set to `production`.
Everything will be minified and served.
Hot reload will not work, so you need to refresh the page manually after changing the code.

```
npm run preview
```

## Git hooks

Linting pre-push hook is not enabled by default.
It will prevent the push if lint task fails,
but you need to add it manually by running:

```
npm run hook-add
```

To remove it, run this task:

```
npm run hook-remove
```


Сокращенное наименование клиента в соответствии с данными, внесенными в ЕГРЮЛ (ЕГРИП). Например, ИП Иванов Иван Иванович, ООО Разгибаем айфоны.|"ОбязательноеАвтозаполняемое из ФБРМаксимальная длина поля 255 символов;Допустимые символы0123456789  АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЬЫЪЭЮЯ абвгдеёжзийклмнопрстуфхцчшщьыъэюя ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz  !""#$%&'( )*+,-./:;<=>?@[\]^_`{|}~№Текст ошибок:При вводе недопустимых символов Недопустимые символыНаименование получателя не может состоять только из цифр и/или спецсимволов. Наименование получателя не может состоять только из цифр и спецсимволовЕсли поле пусто, подсвечивать поле красным, подсказка к полю: Укажите сокращенное наименование"|"0123456789  АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЬЫЪЭЮЯ абвгдеёжзийклмнопрстуфхцчшщьыъэюя ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz  !""#$%&'( )*+,-./:;<=>?@[\]^_`{|}~№" "0123456789  АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЬЫЪЭЮЯ абвгдеёжзийклмнопрстуфхцчшщьыъэюя ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz  !""#$%&'( )*+,-./:;<=>?@[\]^_`{|}~№"
Полное наименование клиента в соответствии с данными, внесенными в ЕГРЮЛ (ЕГРИП). Например, Индивидуальный предпрениматель Иванов Иван Иванович, Общество с ограниченной ответственностью Разгибаем айфоны.|ОбязательноеАвтозаполняемое из ФБРМаксимальная длина поля 255 символовДопустимые символы описаны выше (аналогичны полю Сокращенное наименование)Текст ошибок:При вводе недопустимых символов Недопустимые символыЕсли поле пусто, подсвечивать поле красным, подсказка к полю: Укажите полное наименование
Поле, отражающее организационно правовую форму клиента (ИП или юрлицо).|ОбязательноеАвтозаполняемое из ФБРСправочное полеТекст ошибок:При вводе недопустимых символов Недопустимые символыЕсли поле пусто, подсвечивать поле красным, подсказка к полю: Укажите организационно-правовую форму
Поле заполняется автоматически или вручную на первом шаге создания новой карточки клиента.|Обязательное.Сотрудник может ввести числа от 0 до 9;Если длина не равна 10 или 12 чисел, то выводится ошибка:  ИНН юридического лица содержит 10 цифр, индивидуального предпринимателя – 12 цифрЕсли сотрудник заполнил значение в поле ввода ИНН, выполняется валидация введенного значения: Алгоритм проверки ИНН (источник: http://zapolnenie.info/algoritm-proverki-inn/). Контрольным числом для ИНН юридических лиц является последний знак, а для ИП и физ. лиц последние 2. Алгоритм проверки ИНН следующий: каждый разряд ИНН умножается на соответствующий коэффициент, полученные числа суммируются, потом поочерёдно вычисляется остаток от деления на 11 и на 10. Получившееся число должно быть равно десятому разряду в ИНН. Алгоритм проверки ИНН для ФЛ чуть длиннее, так как приходится вычислять два числа, потому что контрольными являются 11 и 12 число в номере.Если у введенного ИНН неверная контрольная сумма, то поле выделяется как невалидное и выводится тултип с ошибкой:  Некорректный номер ИНН Проверьте, что ввели правильный номерТекст ошибок:При вводе недопустимых символов Недопустимые символыЕсли поле пусто, подсвечивать поле красным, подсказка к полю: Укажите ИНН компании
В поле проставляется ОГРН клиента.|ОбязательноеАвтозаполняемое из ФБРМаксимальная длина поля для ЮЛ — 13 символов, для ИП — 15 символовПравила валидации описаны в ТЗ — Ввод ОГРН/ОГРНИП;Если у введенного ОГРН/ОГРНИП неверная контрольная сумма, то поле выделяется как невалидное и выводится ошибка: Некорректный номер ОГРН или ОГРНИП. Проверьте, что ввели правильный номерТекст ошибок:При вводе недопустимых символов Недопустимые символыЕсли поле пусто, подсвечивать поле красным, подсказка к полю: Укажите ОГРН/ ОГРНИП компании
Дата государственной регистрации клиента (когда клиент стал ИП или ООО).|ОбязательноеАвтозаполняемое из ФБРВыбор даты осуществляется из календаря Формат даты: ДД.ММ.ГГГГ Текст ошибок: Если поле пусто, подсвечивать поле красным, подсказка к полю: Укажите дату регистрации компании
Информационное поле, показывает город обслуживания клиента. Заполняется в зависимости от города регистрации клиента из адреса клиента в выписке ЕГРЮЛ (ЕГРИП). В карточке клиента нужно отображать город и часовой пояс относительно московского времени.|ОбязательноеАвтозаполняемое из ФБРМаксимальная длина поля 100 символов Поле может содержать только буквы, цифры, знак пробела и знаки: тире, дефис, точка, двоеточие, точка с запятойТекст ошибок:При вводе недопустимых символов Недопустимые символыЕсли поле пусто, подсвечивать поле красным, подсказка к полю: Укажите город компании
Поле с ФИО директора (руководителя) или индивидуального предпринимателя. Справочное поле, служит для понимания, как обращаться к директору / предпринимателю.Если компания является ЮЛ, то в поле ФИО добавлять ФИО директора компании;Если компания ИП, то только ФИО индивидуального предпринимателя.|ОбязательноеАвтозаполняемое из ФБРПоле может содержать только буквы и знак пробела Текст ошибки общий: ФИО могут содержать только буквы на кириллице, пробел или дефисЕсли поле пусто: Укажите ФИО руководителя
"Поле, отображающее общероссийский классификатор видов экономической деятельности:При вводе сотруднику доступен поиск как по коду, так и по названию вида деятельности;  В справочнике значения должны отображаться в следующем виде:Код через пробел название вида деятельности;  Под полем выбора доступна кнопка ""+Добавить ОКВЭД"";Сотрудник может добавить не более двух дополнительных полей; Сотрудник может удалить по кнопке ""Х"" добавленное дополнительное значение."|ОбязательноеАвтозаполняемое из ФБРСправочное полеЕсли поле пусто: Укажите основной ОКВЭД компании
"Поле, отражающее систему налогообложения клиента. Сотрудник может выбрать только одно значение “Система налогообложения”:УСН;Если сотрудник выбирает значение ""УСН"", то отображать сотруднику поле ""Ставка УСН"";Максимальная длина поля 60 символов;Поле обязательное;Допустимые символы: буквы, цифры, пробел, точка, запятая, двоеточие, знак процента, точка с запятойОСН;  Сотрудник может указать дополнительные варианты систем налогообложения к первым двум, сотрудник может выбрать оба значения:ЕНВД (Единый налог на вмененный доход);ПСН (Патентная система налогообложения);Если сотрудник выбирает ПСН и ЕНВД, то добавляется блок, который содержит три дополнительных поля: Вид деятельности;Справочное поле;Пользователю доступен поиск в поле по наименованию или коду вида деятельности (необходимо учитывать, что поиск по коду будет происходить с точкой);Дата начала применения системы налогообложения в формате ДД.ММ.ГГГГ (выбор даты осуществляется из календаря);Дата окончания применения системы налогообложения в формате ДД.ММ.ГГГГ (выбор даты осуществляется из календаря);Сотрудник может добавить несколько блоков;Сотрудник может удалить добавленный ранее блок;При этом последний блок не может быть удален;  ПСН нет на форме, если компания является Юридическим лицом, т.е. длина ИНН = 10 символов."|Все поля обязательныеЗаполняется вручнуюЕсли сотрудник не выбрал систему налогообложения подсвечивать блок красным и выводить сообщение: Укажите систему налогообложения компании
Радио-кнопка “Да” / “Нет”.Поле служит для дальнейшей постановки задач по отделам и для справочной информации, пришел клиент со своей базой или мы вели его полностью своими силами.|"Заполняется вручнуюПо умолчанию выбрано значение ""Нет"""
Число, когда клиент подключил услугу Бухгалтера.С этой даты в зависимости от системы налогообложения клиента и его организационно-правовой формы проставляются потоки плановых задач по клиенту (будут описаны в следующих этапах).|Заполняется вручную (в будущих этапах автоматически)Выбор даты осуществляется из календаря Формат даты: ДД.ММ.ГГГГ
Показывает, с какого числа наша компания ответственна за бухгалтерию клиента.|Заполняется вручную Выбор даты осуществляется из календаря Формат даты: ДД.ММ.ГГГГ
Выпадушка со значениями:ПодключенОтключенВ работе|"АвтозаполняемоеЗаполняется вручную По умолчанию выбрано значение ""В работе"""
Поле выбора, показывает тариф, по которому обслуживается клиент.Список тарифов с описанием хранится в константах в админке. Описание тарифа предполагает сумму, какая списывается с клиента, и периодичность списания.|ОбязательноеЗаполняется вручную Справочное поле
"Радиокнопка ""Да"" и ""Нет"".После отметки аккаунт-менеджера о поступлении денег при подключении клиента (выбрано значение ""Да""), значение поля “Статус подключения” меняется на “Подключено”."|"Заполняется вручнуюПо умолчанию выбрано значение ""Нет"""
"Радиокнопка ""Да"" и ""Нет"". После выбора компании по результатам поиска и после ввода ИНН и ОГРН/ОГРНИП система проверяет наличие базы 1С по клиенту. Если база 1С есть (например, клиент подключился повторно), поле принимает значение “Да”. Если базы 1С нет, поле имеет значение “Нет”."|"АвтозаполняемоеПо умолчанию выбрано значение ""Нет"""
По факту подключения техподдержкой базы 1С к 1С Отчетности и завершению задачи автоматически проставляется статус “Да”. До этого момента статус поля принимает значение “Нет”.|"АвтозаполняемоеПо умолчанию выбрано значение ""Нет"""
"Группа состоит из следующих полей:Поле ""БИК или Наименование банка"", в котором открыт расчетный счет:Справочное поле содержит список всех банков;Поиск осуществляется по БИК или Наименованию банка;Поле ""Расчетный счет"";Поле ""Корреспондентский счет"" заполняется автоматически по номеру расчетного счета.  Ссылка ""+Добавить счет"": При клике на ссылку ""+Добавить счет"" добавлять новые поля для ввода наименования банка (по БИК и по названию), номера расчетного счета и корреспондентского счета;Клиент может удалить дополнительный блок по кнопке “Закрыть”;Если блок один кнопка закрыть не отображается;Если блоков несколько, то кнопка закрытия появляется на всех блоках.  Если по указанному ОРГН/ОГРНИП открыт только в Модульбанке, то данные получить из CRM."|"Обязательный блокЗаполняется вручную Все поля на форме обязательны для заполненияЕсли сотрудник не заполнил блок, то выводить сообщение: Укажите информацию о расчетных счета клиентаЕсли не заполнено поле ""Расчетный счет"": Введите номер расчетного счета Если сотрудник ввел некорректный номер счета, то выводить сообщение (правила валидации аналогичны, реализованным в модульбанке): Неверная контрольная цифра. Внимательно проверьте выбранный банк и номер счета"
Количество сотрудников на момент подключения клиента к услуге Бухгалтер.|Заполняется вручнуюНеобязательное полеМаксимальная длина поля — 60 символов;Допустимые значения — числа от 0 до 9Текст ошибок:При вводе недопустимых символов Недопустимые символы
"Поле появляется на форме, если заполнено поле ""Количество сотрудников"".  Поле, отображающее дату, до которой необходимо выплатить заработную плату сотрудникам клиента.  Представляет из себя число месяца: “10” - до 10 числа каждого месяца, “15” - до 15 числа каждого месяца."|"Поле активно, если заполнено поле ""Количество сотрудников""Заполняется вручнуюМаксимальная длина поля — 2 символаДопустимые значения — числа от 0 до 9ОбязательноеТекст ошибок:Если поле не заполнено: Укажите дату выплаты зарплаты"
"Поле появляется на форме, если заполнено поле ""Количество сотрудников"".  Поле, отображающее дату, до которой необходимо выплатить аванс по заработной плате сотрудникам клиента.  Представляет из себя число месяца: “20” - до 20 числа каждого месяца, “25” - до 25 числа каждого месяца."|"Поле активно, если заполнено поле ""Количество сотрудников""Заполняется вручнуюМаксимальная длина поля — 2 символа;Допустимые значения — числа от 0 до 9 ОбязательноеТекст ошибок:Если поле не заполнено: Укажите дату выплаты аванса по зарплате"
"Поле, которое отражает факт работы с наличным деньгами.  Если заполнено поле “Количество кассовых аппаратов (БСО)”, активно текстовое поле ""Описание"", в котором можно внести информацию о поставщиках услуг в свободном текстовом формате.Максимальная длина поля 1000 символов;Все символы допустимы;Обязательное, если выбрано значение ""Да""."|"Поле ""Количество кассовых аппаратов (БСО)"" заполняется вручнуюНеобязательное полеМаксимальная длина поля — 60 симовловДопустимые символы — числа от 0 до 9Текст ошибок:При вводе недопустимых символов Недопустимые символы"
"Чекбокс.  Если чекбокс выбран, то активно текстовое поле ""Описание"" (необходимо для указания какие системы эквайринга используются клиентом).Максимальная длина поля 1000 символов;Все символы допустимы; Обязательное, если выбран чекбокс."|"Поле ""Эквайринг"" заполняется вручнуюНеобязательное поле Текст ошибок:Если поле ""Описание"" не заполнено: Укажите какие системы эквайринга используются клиентом"
"Чекбокс.  Если чекбокс выбран, то активно текстовое поле ""Описание"" (необходимо для указания какие системы интернет-эквайринга используются клиентом).Максимальная длина поля 1000 символов;Все символы допустимы; Обязательное, если выбран чекбокс."|"Поле ""Интернет-эквайринг"" заполняется вручнуюНеобязательное полеПо умолчанию поле не заполнено Текст ошибок:Если поле ""Описание"" не заполнено: Укажите какие системы интернет-эквайринга используются клиентом"
"Радио-кнопка со значениями “Да” / “Нет”.  Если выбрано значение “Да” активно текстовое поле ""Описание"", в котором можно внести описание агентской схемы работы в свободном текстовом формате.Максимальная длина поля 1000 символов;Все символы допустимы; Обязательное, если выбрано значение ""Да""."|"Поле ""Агентские схемы"" заполняется вручнуюНеобязательное полеПо умолчанию выбрано значение ""Нет""Текст ошибок:Если поле ""Описание"" не заполнено: Укажите какие агентские схемы используются клиентом"
Справочное текстовое поле.|"Заполняется вручнуюНеобязательное полеМаксимальная длина поля — 1000 символовОтображается подсказка: ""Если клиент использует другие системы бухучета, запросите ссылку, а также логин и пароль.""Допустимые символы аналогичны полю ""1 — Сокращенное наименование"""
Поле, доступное только для ИП. Заполняется в зависимости от желания клиента оплачивать страховые взносы за себя.  С чекбоксами:Раз в квартал;Раз в пол года;Раз в год.|"Отображается только, только если клиент является ИП По умолчанию выбрано ""Раз в год"" Должен быть выбран только один чекбоксТекст ошибок:Если чекбокс снят: Укажите опрядок уплаты страховых взносов"
Справочное поле, заполняется вручную.|Заполняется вручнуюНеобязательное полеВалидация поля СНИЛС как в TZ0002_1 - Открытие счета - Добавление загрузки СНИЛС для выпуска кв.ЭП
Дата, с которой прекращено обслуживание клиента. С этой даты система нигде не регистрирует никаких задач по клиенту.|Заполняется вручнуюНеобязательное полеВыбор даты осуществляется из календаря Формат даты: ДД.ММ.ГГГГ
Информационное поле. Позволяет анализировать причины отключения клиента.|"Заполняется вручнуюМаксимальная длина поля 255 символовОбязательное, если выбрана ""Дата отключения""Текст ошибок:Если поле не заполнено: Укажите причину отключения" "0123456789  АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЬЫЪЭЮЯ абвгдеёжзийклмнопрстуфхцчшщьыъэюя ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz  !""#$%&'( )*+,-./:;<=>?@[\]^_`{|}~№"


